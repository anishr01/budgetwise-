<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml"
            fx:id="rootPane"
            fx:controller="com.budgetwise.javafx.controller.DashboardController"
            stylesheets="@/css/app.css"
            styleClass="root">

    <!-- ================= SIDEBAR ================= -->
    <VBox prefWidth="220"
          spacing="20"
          AnchorPane.topAnchor="0"
          AnchorPane.bottomAnchor="0"
          AnchorPane.leftAnchor="0"
          styleClass="sidebar">

        <Label text="ðŸ’° BudgetWise"
               styleClass="sidebar-title"/>

        <VBox spacing="10">
            <Label text="ðŸ“Š Expense Tracking"
                   styleClass="sidebar-item"
                   onMouseClicked="#openExpenses"/>

            <Label text="ðŸ’° Budget"
                   styleClass="sidebar-item"
                   onMouseClicked="#openBudget"/>

            <Label text="ðŸŽ¯ Saving Goals"
                   styleClass="sidebar-item"
                   onMouseClicked="#openSavingGoals"/>

            <Label text="ðŸ“ˆ Reports"
                   styleClass="sidebar-item"
                   onMouseClicked="#openReports"/>

            <Label text="âš™ Settings"
                   styleClass="sidebar-item"
                   onMouseClicked="#openSettings"/>
        </VBox>
    </VBox>

    <!-- ================= MAIN CONTENT ================= -->
    <ScrollPane AnchorPane.leftAnchor="220"
                AnchorPane.rightAnchor="0"
                AnchorPane.topAnchor="0"
                AnchorPane.bottomAnchor="0"
                fitToWidth="true"
                fitToHeight="true">

        <VBox spacing="25"
              alignment="TOP_CENTER"
              maxWidth="Infinity"
              styleClass="card">

            <!-- Top bar -->
            <HBox alignment="CENTER_RIGHT" maxWidth="Infinity">
                <Button text="ðŸŒ™ Dark Mode"
                        onAction="#toggleDarkMode"/>
            </HBox>

            <Label fx:id="welcomeLabel"
                   styleClass="welcome-name"/>

            <Label text="Welcome to BudgetWise Dashboard"
                   styleClass="dashboard-title"/>

            <Label text="You have successfully logged in"
                   styleClass="dashboard-subtitle"/>

            <Button text="â» Logout"
                    onAction="#handleLogout"/>

            <!-- ================= FILTER BAR ================= -->
            <HBox spacing="15"
                  alignment="CENTER">

                <Label text="Year:"/>
                <ComboBox fx:id="yearCombo" prefWidth="120"/>

                <Label text="Month:"/>
                <ComboBox fx:id="monthCombo" prefWidth="140"/>

            </HBox>

            <!-- ================= PIE CHART ================= -->
            <VBox spacing="10" alignment="CENTER">
                <Label text="Category-wise Expense Distribution"/>
                <PieChart fx:id="expensePieChart"
                          prefWidth="500"
                          prefHeight="350"/>
            </VBox>

            <!-- ================= BAR CHART ================= -->
            <VBox spacing="10" alignment="CENTER">
                <Label text="Income vs Expense"/>
                <BarChart fx:id="incomeExpenseBarChart"
                          prefHeight="300"
                          prefWidth="700">
                    <xAxis>
                        <CategoryAxis/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis/>
                    </yAxis>
                </BarChart>
            </VBox>

            <!-- ================= LINE CHART ================= -->
            <VBox spacing="10" alignment="CENTER">
                <Label text="Monthly Spending Trend"/>
                <LineChart fx:id="monthlyTrendLineChart"
                           prefHeight="300"
                           prefWidth="700">
                    <xAxis>
                        <CategoryAxis/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis/>
                    </yAxis>
                </LineChart>
            </VBox>

        </VBox>
    </ScrollPane>
</AnchorPane>
